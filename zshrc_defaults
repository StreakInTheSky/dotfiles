. /etc/zshrc

if type brew &>/dev/null; then
  FPATH=$(brew --prefix)/share/zsh/site-functions:$FPATH
fi

fpath+=~/.zfunc

# The following lines were added by compinstall
zstyle ':completion:*' completer _expand _complete _ignored _approximate
zstyle :compinstall filename '~/.zshrc'

autoload -Uz compinit
compinit -C
# End of lines added by compinstall

export NVM_LAZY_LOAD=true

#gets plugins bundled by antibody
source ~/.zsh_plugins.sh

# setup fzf
[ -f ~/.fzf.zsh ] && source ~/.fzf.zsh

# setup pyenv
eval "$(pyenv init -)"

PATH="$HOME/.poetry/bin:$PATH"

eval "$(starship init zsh)"
eval "$(zoxide init zsh)"

export DOTFILES=~/.dotfiles

function sync_system_theme() {
	SYSTEM_THEME="$(defaults read -globalDomain AppleInterfaceStyle 2>/dev/null || echo 'Light')"
	if [ "$THEME" != "$SYSTEM_THEME" ]; then
		export THEME=$SYSTEM_THEME
		source $DOTFILES/switch_theme $SYSTEM_THEME
	fi
}

preexec_functions=(sync_system_theme)

# sets terminal theme to system theme mode
sync_system_theme

export PATH="$DOTFILES/bin:$PATH"
export MANPAGER="sh -c 'col -bx | bat -l man -p'"

#aliases
alias ls='lsd'
alias vi='nvim'
